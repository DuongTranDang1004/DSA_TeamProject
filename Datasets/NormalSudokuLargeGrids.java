import java.util.Scanner;
import java.util.List;
import java.util.Arrays;

public class NormalSudokuLargeGrids {

    public static void main(String[] args) {
        // List of Sudoku puzzles (mixed 16x16 & 25x25)
        List<String> puzzles = Arrays.asList(
            // 16x16 Sudoku example
            "00 15 08 14 00 00 00 12 00 09 16 03 07 00 00 10 " 
            + "00 00 01 04 11 00 00 00 00 00 02 00 00 09 00 00 " 
            + "00 12 09 00 00 14 13 00 05 07 15 00 02 08 06 00 " 
            + "00 00 11 13 02 15 00 00 10 00 06 04 00 12 16 05 " 
            + "14 01 16 00 07 00 00 15 00 00 05 13 00 11 08 00 " 
            + "00 00 00 12 00 01 10 14 00 00 00 00 00 02 05 06 " 
            + "15 10 00 11 00 08 00 02 00 00 00 09 03 00 00 00 " 
            + "13 08 02 06 00 03 04 00 16 10 12 07 01 00 00 09 " 
            + "06 00 00 00 03 04 00 00 11 00 07 16 12 01 09 00 " 
            + "11 00 00 00 15 00 01 00 00 03 13 00 00 14 07 16 " 
            + "00 16 13 00 00 12 11 07 02 00 00 01 00 00 04 00 " 
            + "07 00 15 00 09 16 14 00 00 00 08 00 05 10 00 00 " 
            + "12 00 10 07 00 00 03 00 00 13 00 00 11 00 01 00 " 
            + "01 00 06 02 14 00 00 04 07 00 03 00 09 16 10 00 " 
            + "00 13 04 00 12 00 00 00 06 11 00 02 15 05 00 00 " 
            + "00 00 03 15 00 11 00 05 01 00 00 08 04 13 00 00 ",

            "07 00 00 12 14 00 00 01 08 00 06 10 00 00 00 16 " 
            + "16 00 00 04 00 08 09 00 00 13 00 11 00 01 00 00 " 
            + "09 01 05 08 11 00 13 15 03 12 00 16 10 00 04 00 " 
            + "14 15 00 11 00 16 00 07 00 00 09 05 00 00 12 02 " 
            + "00 00 00 03 00 11 00 05 00 00 04 09 15 07 02 00 " 
            + "06 05 00 09 15 13 00 14 12 03 00 01 04 10 00 11 " 
            + "10 00 04 00 16 00 00 00 13 15 05 02 00 08 00 00 " 
            + "00 16 15 02 09 06 00 04 11 00 00 07 00 00 13 00 " 
            + "00 00 00 06 07 00 03 02 15 00 00 00 00 04 00 13 " 
            + "03 00 01 10 00 14 00 00 00 00 11 00 00 15 00 08 " 
            + "00 00 11 07 00 01 00 00 00 00 00 00 14 00 03 10 " 
            + "15 00 02 13 00 10 00 12 00 07 00 06 00 16 00 01 " 
            + "00 00 00 14 00 04 00 00 16 11 02 00 13 12 00 00 " 
            + "00 00 12 16 00 03 00 08 07 09 00 04 00 05 01 00 " 
            + "00 00 00 05 00 00 12 16 00 06 00 00 02 00 00 09 " 
            + "02 00 00 15 00 00 00 00 05 01 00 03 00 00 08 00 ",
            
            "00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 12 " 
            + "09 00 11 00 10 00 00 08 00 00 00 00 03 00 14 00 " 
            + "00 15 00 00 09 00 01 04 14 02 10 00 00 00 00 00 " 
            + "08 00 14 04 16 00 12 06 05 03 07 00 13 00 10 00 " 
            + "05 00 00 00 00 01 09 00 00 12 00 07 10 00 06 00 " 
            + "00 06 00 00 00 08 00 00 00 00 13 00 00 00 04 00 " 
            + "00 00 07 00 06 10 00 00 08 00 00 11 00 15 00 00 " 
            + "00 00 00 00 00 00 00 00 00 14 00 05 11 00 00 01 " 
            + "16 05 00 14 13 12 04 00 07 09 00 00 02 11 00 10 " 
            + "02 00 00 12 05 06 03 00 11 00 00 00 00 14 13 00 " 
            + "00 00 00 13 00 14 00 11 12 06 04 01 16 05 00 00 " 
            + "01 00 15 11 08 16 00 00 13 00 00 02 00 00 07 04 " 
            + "00 02 00 06 00 13 00 10 15 00 00 00 00 00 09 07 " 
            + "00 04 10 01 00 15 05 16 03 00 00 08 00 00 12 00 " 
            + "14 00 00 00 01 09 00 00 00 04 12 06 00 00 00 00 " 
            + "12 09 08 00 00 02 00 14 10 07 05 00 01 00 16 00 ",

            // 25x25 Sudoku example
            "00 00 00 00 00 00 00 19 04 10 12 20 17 01 16 07 14 18 00 00 00 15 11 08 00 " 
            + "00 03 00 00 12 17 24 00 11 02 00 00 00 13 00 05 20 22 01 00 00 00 23 00 00 " 
            + "00 07 20 00 04 13 25 01 08 00 03 00 15 00 05 09 02 00 00 23 00 00 19 00 24 " 
            + "22 05 01 13 19 00 00 09 23 00 04 00 14 10 25 15 00 00 00 11 00 00 20 18 00 " 
            + "15 00 21 10 17 00 00 03 12 05 00 18 00 00 00 00 00 04 19 25 00 13 22 07 00 " 
            + "20 00 00 00 00 00 00 23 21 00 01 00 22 00 07 18 06 19 14 00 24 11 04 12 17 " 
            + "00 00 00 21 00 10 20 14 01 03 00 13 06 11 18 02 16 23 22 00 00 00 00 15 05 " 
            + "13 14 25 06 00 00 18 00 07 19 00 12 00 04 21 01 03 05 00 08 00 00 02 20 16 " 
            + "12 16 00 08 00 00 05 00 15 11 00 00 00 24 00 13 04 09 21 00 00 00 18 19 14 " 
            + "07 00 00 00 00 02 08 04 06 12 23 00 00 00 00 00 00 00 00 00 00 00 00 09 01 " 
            + "00 00 05 00 00 00 00 00 13 00 00 06 01 19 00 03 08 07 12 15 11 24 00 22 18 " 
            + "03 00 06 01 08 00 00 00 20 00 00 02 10 00 13 14 09 21 11 22 00 17 16 00 00 " 
            + "10 00 17 16 00 07 09 25 00 00 22 03 00 00 11 00 05 00 00 00 00 14 13 00 00 " 
            + "21 19 04 22 15 18 11 16 02 00 00 25 07 14 00 00 10 00 17 01 00 00 00 03 00 " 
            + "00 00 12 14 07 00 00 06 17 01 00 00 20 05 00 19 00 00 16 24 09 08 00 00 21 " 
            + "05 11 10 00 00 00 19 18 00 00 13 04 00 00 02 08 15 14 00 16 07 00 00 25 20 " 
            + "02 09 00 20 00 01 10 08 00 21 17 00 00 07 00 04 22 03 00 05 12 00 15 23 00 " 
            + "00 15 00 12 00 04 23 00 00 20 05 16 00 00 00 00 11 01 00 18 21 00 24 14 00 " 
            + "19 01 13 00 23 03 12 24 00 00 08 10 00 09 00 20 17 06 00 00 00 00 00 11 00 " 
            + "00 08 16 25 00 00 13 00 00 00 14 21 00 00 00 00 00 02 00 00 03 00 17 10 00 " 
            + "00 00 00 00 16 05 00 12 10 00 25 14 08 00 19 17 00 15 00 20 00 01 00 00 23 " 
            + "23 12 00 07 13 08 00 00 00 06 00 00 00 02 22 21 01 10 24 09 16 03 14 00 19 " 
            + "01 00 24 05 20 15 00 00 00 00 00 00 00 00 12 25 00 00 02 00 18 22 21 17 10 " 
            + "00 10 00 00 06 19 00 00 00 00 07 15 05 16 03 12 23 11 00 00 00 00 09 00 02 " 
            + "00 00 19 00 09 00 04 13 18 14 20 01 24 00 10 00 00 00 00 00 00 00 12 00 00 ", 
            
            "14 05 20 18 19 10 23 00 17 13 07 15 00 00 00 16 12 00 00 22 00 00 00 00 00 "
            + "07 00 09 00 00 04 00 02 00 16 00 14 00 00 00 05 21 24 08 03 00 12 00 00 00 "
            + "01 24 16 04 00 15 00 00 00 00 00 00 12 22 18 14 00 00 00 10 23 06 00 00 00 "
            + "00 00 00 00 00 00 00 01 19 18 10 13 21 00 20 00 06 17 00 11 15 05 22 24 04 "
            + "23 00 13 10 00 12 25 06 09 24 00 04 00 00 00 02 20 00 00 00 07 00 00 00 00 "
            + "00 18 00 07 17 24 00 00 05 01 00 00 20 00 21 19 03 04 16 02 00 00 00 00 22 "
            + "00 00 05 23 13 00 00 22 06 11 14 00 00 07 00 25 10 12 20 01 18 15 00 17 00 "
            + "00 06 19 00 00 00 00 12 00 15 05 23 17 01 00 07 13 09 00 14 08 16 11 25 00 "
            + "16 01 00 21 03 25 18 09 00 10 19 00 00 00 00 15 17 00 00 00 00 00 00 05 07 "
            + "12 14 22 00 00 07 00 16 08 17 03 00 00 18 00 00 05 23 21 24 09 04 00 13 01 "
            + "00 20 00 02 10 11 00 00 00 23 09 00 16 00 17 00 00 25 00 21 12 00 01 22 00 "
            + "17 21 00 13 00 16 09 19 00 00 00 06 14 25 15 04 00 02 03 12 00 10 00 23 18 "
            + "00 19 12 01 00 06 15 00 21 05 00 00 00 00 02 09 00 00 00 07 03 00 04 00 00 "
            + "00 23 00 00 04 00 00 00 00 07 18 00 00 00 00 00 16 15 22 13 00 19 00 00 20 "
            + "00 00 24 14 05 20 03 13 00 00 00 19 00 00 11 00 01 18 00 23 17 09 15 02 06 "
            + "03 22 23 25 20 17 02 11 16 00 12 00 24 00 00 00 18 14 19 00 05 13 00 21 08 "
            + "13 00 01 05 00 18 14 00 10 00 00 20 19 00 03 00 00 16 07 00 00 02 24 12 00 "
            + "00 07 00 00 00 19 12 00 00 20 00 00 00 06 09 13 24 03 00 17 00 00 00 11 00 "
            + "00 08 00 00 00 00 01 00 00 00 23 00 18 14 25 00 15 11 00 00 19 00 00 00 00 "
            + "00 02 00 19 00 00 05 07 00 09 00 01 11 00 00 21 08 10 00 25 20 00 14 16 00 "
            + "00 04 08 00 16 00 11 03 22 00 15 00 09 24 00 00 02 00 14 20 01 00 07 10 00 "
            + "21 10 00 17 07 00 00 23 24 19 13 03 08 20 00 00 00 00 11 00 06 00 18 09 02 "
            + "05 25 00 00 15 00 10 00 18 02 16 00 00 00 00 00 23 00 13 19 21 14 08 00 00 "
            + "20 00 02 09 00 21 00 15 07 00 00 18 22 00 05 03 00 00 00 16 11 25 23 19 12 "
            + "24 00 18 11 23 05 00 08 25 00 06 21 02 19 14 10 22 00 00 09 00 00 13 00 03 ");

        // Process all puzzles dynamically
        for (String puzzle : puzzles) {
            int gridSize = determineGridSize(puzzle);
            int[][] sudokuGrid = convertToGrid(puzzle, gridSize);
            printGrid(sudokuGrid, gridSize);
        }
    }

    /**
     * Determines the grid size dynamically based on the puzzle length.
     */
    public static int determineGridSize(String puzzle) {
        int totalElements = puzzle.split(" ").length;
        return (totalElements == 256) ? 16 : 25; // 16x16 = 256 elements, 25x25 = 625 elements
    }

    /**
     * Converts a space-separated Sudoku puzzle string into a 2D grid.
     */
    public static int[][] convertToGrid(String puzzle, int gridSize) {
        int[][] sudokuGrid = new int[gridSize][gridSize];
        Scanner scanner = new Scanner(puzzle);

        for (int row = 0; row < gridSize; row++) {
            for (int col = 0; col < gridSize; col++) {
                if (scanner.hasNextInt()) {
                    sudokuGrid[row][col] = scanner.nextInt();
                }
            }
        }
        scanner.close();
        return sudokuGrid;
    }

    /**
     * Prints the Sudoku grid in a formatted layout.
     */
    public static void printGrid(int[][] grid, int gridSize) {
        System.out.println("\nSudoku " + gridSize + "x" + gridSize + " Grid:");
        for (int row = 0; row < gridSize; row++) {
            for (int col = 0; col < gridSize; col++) {
                System.out.print(grid[row][col] + " ");
            }
            System.out.println();
        }
    }
}
